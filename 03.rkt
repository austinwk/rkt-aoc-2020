#lang racket

(provide (all-defined-out))

;;------------------------------------------------------------------------------
;; Day 3
;;------------------------------------------------------------------------------

;;------------------------------------------------------------------------------
;; Part 1
;;------------------------------------------------------------------------------

(define (solve-part-1)
  (for/fold ([trees 0])
            ([row (in-range +inf.0)]
             [line (in-list (file->lines "03.txt"))])
    (if (char=? #\# (string-ref line (modulo (* row 3) 31)))
        (add1 trees)
        trees)))

;;------------------------------------------------------------------------------
;; Part 2
;;------------------------------------------------------------------------------

(define (solve-part-2)
  (error "unimplemented"))

;;------------------------------------------------------------------------------
;; Tests
;;------------------------------------------------------------------------------

(module+ test
  (require rackunit)

  (test-eq? "solve-part-1" (solve-part-1) 276)
  ; (test-eq? "solve-part-2" (solve-part-2) #f)
)
